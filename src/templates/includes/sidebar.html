{% load i18n %}
{% block stylesheets %}
    <style>
        a {
            text-decoration: none !important;
        }

        .drop_items {
            display: none;
            list-style: none;
            align-items: center;
            justify-content: center;
            background-color: rgb(240 240 240);
            padding: 10px 12px;
        }

        .active {
            display: block;
        }

        {#azure, orange, white,  #}
    </style>
{% endblock stylesheets %}
{% block content %}
    <div class="sidebar" data-color="azure" data-background-color="info" data-image="/static/assets/img/sidebar-2.jpg">
        <div class="logo">
            {#        <a target="_blank" rel="noopener noreferrer"#}
            {#           target="_blank" rel="noopener noreferrer"#}
            {#           href="#" class="simple-text logo-normal">#}
            {#          Stat-Urmon#}
            {#        </a>#}
            <a href="#" class="simple-text logo-normal">
                {% trans "Stat-Urmon" %}
            </a>
        </div>
        {% if user.is_authenticated %}
            <div class="sidebar-wrapper relative">
                <ul class="nav">
                    <li class="nav-item {% if request.resolver_match.url_name == 'home' %} active {% endif %}">
                        <a class="nav-link" href="{% url 'controller:home' %}">
                            <i class="material-icons">dashboard</i>
                            <p>{% trans 'Dashboard' %}</p>
                        </a>
                    </li>

                    {% if perms.accounts.view_user %}
                        <li class="nav-item drop_ankor {% if 'ui-typography' in segment %} active {% endif %}"
                            id="dropDown">
                            <a href="#" class="nav-link">
                                <i class="material-icons">list</i>
                                <p>{% trans "Kadrlar bo'limi" %}</p>
                            </a>
                            <ul class="drop_items">
                                <li class="nav-items {% if request.resolver_match.url_name == 'members_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'accounts:members_list' %}">
                                        <i class="material-icons">person</i>
                                        <p>{% trans 'Members' %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'other_action' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'accounts:other_action' %}">
                                        <i class="material-icons">dashboard</i>
                                        <p>{% trans 'Other actions' %}</p>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    {% endif %}
                    {% if perms.finance.view_finance %}
                        <li class="nav-item drop_ankor {% if 'ui-typography' in segment %} active {% endif %}"
                            id="dropDown">
                            <a href="#" class="nav-link">
                                <i class="material-icons">list</i>
                                <p>{% trans "Moliya bolimi" %}</p>
                            </a>
                            <ul class="drop_items">
                                <li class="nav-items {% if request.resolver_match.url_name == 'finance_plan_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'finance:finance_plan_list' %}">
                                        <i class="material-icons">list</i>
                                        <p>{% trans 'Moliya reja' %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'finance_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'finance:finance_list' %}">
                                        <i class="material-icons">list</i>
                                        <p>{% trans 'Moliya Amalda' %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'finance_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'report:report_list' %}?id=1">
                                        <i class="material-icons">print</i>
                                        <p>{% trans 'Report Generate' %}</p>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    {% endif %}

                    {% if perms.trees.view_treeplant %}
                        {% if perms.trees.view_sapling %}
                            <li class="nav-items {% if request.resolver_match.url_name == 'sapling_dashboard' %} active {% endif %}">
                                <a class="nav-link" href="{% url 'trees:sapling_dashboard' %}">
                                    <i class="material-icons">dashboard</i>
                                    <p>{% trans "Ko'chatchilik" %}</p>
                                </a>
                            </li>
                        {% endif %}
                        {% if perms.trees.view_sprout %}
                            <li class="nav-items {% if request.resolver_match.url_name == 'sprout_dashboard' %} active {% endif %}">
                                <a class="nav-link" href="{% url 'trees:sprout_dashboard' %}">
                                    <i class="material-icons">dashboard</i>
                                    <p>{% trans "Niholchilik" %}</p>
                                </a>
                            </li>
                        {% endif %}
                        {% if perms.trees.view_seed %}
                            <li class="nav-items {% if request.resolver_match.url_name == 'seed_dashboard' %} active {% endif %}">
                                <a class="nav-link" href="{% url 'trees:seed_dashboard' %}">
                                    <i class="material-icons">dashboard</i>
                                    <p>{% trans "Urug'chilik" %}</p>
                                </a>
                            </li>
                        {% endif %}
                        {% if perms.trees.view_prepairlandplan %}
                            <li class="nav-items {% if request.resolver_match.url_name == 'land_dashboard' %} active {% endif %}">
                                <a class="nav-link" href="{% url 'trees:land_dashboard' %}">
                                    <i class="material-icons">dashboard</i>
                                    <p>{% trans "O'rmon barpo qilish" %}</p>
                                </a>
                            </li>
                        {% endif %}
                        <li class="nav-items {% if request.resolver_match.url_name == 'yopiq_ildiz_dashboard' %} active {% endif %}">
                            <a class="nav-link" href="{% url 'trees:yopiq_ildiz_dashboard' %}">
                                <i class="material-icons">dashboard</i>
                                <p title="{% trans "Ёпиқ илдизлик йирик хажмли кўчатлар" %}">{% trans "Ёпиқ илдизлик йирик хажмли кўчатлар" %}</p>
                            </a>
                        </li>
                        <li class="nav-items {% if request.resolver_match.url_name == 'tree_list' %} active {% endif %}">
                            <a class="nav-link" href="{% url 'trees:tree_list' %}">
                                <i class="material-icons">dashboard</i>
                                <p title="{% trans "Ko'chatlar balandligi" %}">{% trans "Ko'chatlar balandligi" %}</p>
                            </a>
                        </li>
                        <li class="nav-items {% if request.resolver_match.url_name == 'tree_contract_action_dashboard' %} active {% endif %}">
                            <a class="nav-link" href="{% url 'trees:tree_contract_action_dashboard' %}">
                                <i class="material-icons">dashboard</i>
                                <p title="{% trans "Ko'chat shartnoma" %}">{% trans "Ko'chat shartnoma" %}</p>
                            </a>
                        </li>
                        {% if perms.trees.view_treeplant %}
                            <li class="nav-items {% if request.resolver_match.url_name == 'action_dashboard' %} active {% endif %}">
                                <a class="nav-link" href="{% url 'trees:action_dashboard' %}">
                                    <i class="material-icons">dashboard</i>
                                    <p>{% trans "Daraxtlar" %}</p>
                                </a>
                            </li>
                        {% endif %}
                    {% endif %}
                    {% if perms.agriculture.view_agricultureplan %}
                        <li class="nav-item drop_ankor {% if 'ui-typography' in segment %} active {% endif %}"
                            id="dropDown">
                            <a href="#" class="nav-link">
                                <i class="material-icons">list</i>
                                <p>{% trans "Qishloq xo'jaligi" %}</p>
                            </a>
                            <ul class="drop_items">
                                <li class="nav-items {% if request.resolver_match.url_name == 'agriculture_plan_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'agriculture:agriculture_plan_list' %}">
                                        <i class="material-icons">agriculture</i>
                                        <p>{% trans "Plan" %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'agriculture_actual_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'agriculture:agriculture_actual_list' %}">
                                        <i class="material-icons">agriculture</i>
                                        <p>{% trans "Amalda" %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'finance_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'report:report_list' %}?id=4">
                                        <i class="material-icons">print</i>
                                        <p>{% trans 'Report Generate' %}</p>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    {% endif %}

                    {% if perms.chorvachilik.view_chorvachiliktypes %}
                        <li class="nav-item drop_ankor {% if 'ui-typography' in segment %} active {% endif %}"
                            id="dropDown">
                            <a href="#" class="nav-link">
                                <i class="material-icons">list</i>
                                <p>{% trans "Chorvachilik" %}</p>
                            </a>
                            <ul class="drop_items">
                                <li class="nav-items {% if request.resolver_match.url_name == 'chorvachilik_plan_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'chorvachilik:chorvachilik_plan_list' %}">
                                        <i class="material-icons">dashboard</i>
                                        <p>{% trans "Plan" %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'chorvachilik_actual_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'chorvachilik:chorvachilik_actual_list' %}">
                                        <i class="material-icons">dashboard</i>
                                        <p>{% trans "Amalda" %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'chorva_input_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'chorvachilik:chorva_input_list' %}">
                                        <i class="material-icons">dashboard</i>
                                        <p>{% trans "Kirim" %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'chorva_output_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'chorvachilik:chorva_output_list' %}">
                                        <i class="material-icons">dashboard</i>
                                        <p>{% trans "Chiqim" %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'finance_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'report:report_list' %}?id=3">
                                        <i class="material-icons">print</i>
                                        <p>{% trans 'Report Generate' %}</p>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    {% endif %}

                    {% if perms.finance.view_productionserviceplan %}
                        <li class="nav-item drop_ankor {% if 'ui-typography' in segment %} active {% endif %}"
                            id="dropDown">
                            <a href="#" class="nav-link">
                                <i class="material-icons">list</i>
                                <p title="{% trans "Mahsulotlar va xizmat" %}">{% trans "Mahsulotlar va xizmat" %}</p>
                            </a>
                            <ul class="drop_items">
                                <li class="nav-items {% if request.resolver_match.url_name == 'production_actual_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'finance:production_actual_list' %}">
                                        <i class="material-icons">paid</i>
                                        <p>{% trans "Amalda" %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'production_plan_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'finance:production_plan_list' %}">
                                        <i class="material-icons">paid</i>
                                        <p>{% trans "Reja" %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'finance_list' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'report:report_list' %}?id=5">
                                        <i class="material-icons">print</i>
                                        <p>{% trans 'Report Generate' %}</p>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    {% endif %}
                    <li class="nav-item drop_ankor {% if 'ui-typography' in segment %} active {% endif %}"
                            id="dropDown">
                            <a href="#" class="nav-link">
                                <i class="material-icons">list</i>
                                <p title="{% trans "Universal xisobot" %}">{% trans "Universal xisobot" %}</p>
                            </a>
                            <ul class="drop_items">
                                {% if perms.finance.view_finance %}
                                    <li class="nav-items {% if request.resolver_match.url_name == 'report_list' %} active {% endif %}">
                                        <a class="nav-link" href="{% url 'report:report_list' %}">
                                            <i class="material-icons">edit</i>
                                            <p>{% trans "xlikst" %}</p>
                                        </a>
                                    </li>
                                {% endif %}
                                <li class="nav-items {% if request.resolver_match.url_name == 'query_create' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'report:query_create' %}">
                                        <i class="material-icons">edit</i>
                                        <p title="{% trans "formula yaratish" %}">{% trans "Formula yaratish" %}</p>
                                    </a>
                                </li>
                                <li class="nav-items {% if request.resolver_match.url_name == 'create_new_report' %} active {% endif %}">
                                    <a class="nav-link" href="{% url 'report:create_new_report' %}">
                                        <i class="material-icons">create</i>
                                        <p>{% trans "Yangi xisobot yaratish" %}</p>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    {% if perms.accounts.delete_user %}
                        <li class="nav-item {% if request.resolver_match.url_name == 'pnfl' %} active {% endif %}">
                            <a class="nav-link" href="{% url 'ipsgov:pnfl' %}">
                                <i class="material-icons">dock</i>
                                <p>{% trans "Маълумотнома олиш ПФ-6191" %}</p>
                            </a>
                        </li>
                    {% endif %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'controller:logout' %}">
                            <i class="material-icons">directions_run</i>
                            <p>{% trans "Logout" %}</p>
                        </a>
                    </li>
                </ul>
            </div>
        
        {% endif %}
    </div>
{% endblock content %}
{% block javascripts %}
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            let listItems = $('.drop_items');
            $.each(listItems, function (key, item) {
                let aElement = $(this).children('li.nav-items');

                if (aElement.hasClass('active')) {
                    $(item).addClass('active');
                    $(this).parent().children('ul').slideDown("slow");
                    setTimeout(function () {
                    }, 1000);
                }
            });
            $('.drop_ankor').on('click', 'a', function (e) {
                if ($(this).parent().children('ul').length) {
                    e.preventDefault();
                    $(this).addClass('active');
                    $(this).parent().children('ul').slideDown("slow");
                    setTimeout(function () {

                    }, 1000);
                }
            });
            $('.drop_ankor').on('click', 'a.active', function (e) {
                e.preventDefault();
                $(this).removeClass('active');
                $(this).parent().children('ul').slideUp();
                setTimeout(function () {
                }, 1500);
            });
        });

        $(document).ready(function () {
            $('#dropDown').click(function () {
                $('.drop-down').toggleClass('drop-down--active');
            });
        });

        function fullPage() {
            const main = document.querySelector('.main-panel');
            const sidebar = document.querySelector('.sidebar');
            const burger = document.querySelector('#burger');

            if (sidebar.style.display === 'none') {
                main.style.width = "calc(100% - 260px)"
                burger.innerText = "close"
                setTimeout(() => {
                    sidebar.style.display = 'block'
                }, 480)
            } else {
                sidebar.style.display = 'none'
                main.style.width = "100%"
                burger.innerText = "menu"
            }
        }

    </script>
{% endblock javascripts %}
